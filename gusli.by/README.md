# Сайт беларуской мастерской по изготовлению гуслей "Гусли. Традиции, современность" (gusli.by)

## Архив
**Ссылка**: [Перейти](https://drive.google.com/drive/folders/1stxcwItzDIdjEQCZnSsvs-TBFmD7hnMh?hl=ru)

**Состав**: 
- файл cdx (63 кб)
- файл с логами (854 кб)
- файл warc (12,2 мб)
- файл .db (120 кб)


## 1. Анализ: Archive Ready

<img src="https://github.com/sofiiafedotova/gusli-arch/blob/main/gusli.by/gusli_archready(2).png" width=40%>

В соответствии с метриками [CLEAR](https://purl.pt/24107/1/iPres2013_PDF/CLEAR%20a%20credible%20method%20to%20evaluate%20website%20archivability.pdf) оценка архивируемости главной страницы сайта gusli.by довольно высокая.

Среди проблем: 
- несоответствие стандартам оформления html,
- отсутствие заголовков кэширования http,
- замедленный отклик сети (всего 940 ms!),
- отсутствие карты сайта.
и др.

Однако поступим *честно* и передадим сервису не главную страницу, а (допустим) беларускую версию сайта. *"Честность"* заключается в том, что ArchiveReady по умолчанию считает, что весь сайт в соответствии с главной страницей имеет ту же структуру, но в данном случае главная страница разительно отличается от остального сайта, ибо, по сути, представляет собой навигацию по трехъязычным версиям контента (см. п.3)
<img src="https://github.com/sofiiafedotova/gusli-arch/blob/main/gusli.by/gusli_archready(1).png" width=40%>

Оценка заметно падает.

Среди проблем: 
- несоответствие стандартам оформления html и css,
- неработающие ссылки,
- внешние скрипты,
- встроенный в html javascript,
- отсутствие заголовков кэширования http,
- внешние изображения,
- замедленный отклик сети (1400 ms),
- отсутствие карты сайта
и др.

Интересно, что англоязычная версия сайта отличается от остальных: ее оценка составляет 84% из-за того, что на сайте не используется javascript и не задействованы внешние скрипты.



## 2. Анализ: metawarc
1) `metawarc analyze centrpovetkina.ru.warc.gz`
```{
mimes         files      size        share
----------  -------  --------  -----------
image/jpeg      179  11277981   85.0084
text/html        86   1205030    9.08298
image/gif       123    778623    5.86891
text/css          1      3541    0.0266905
image/png         1      1725    0.0130023
#total          390  13266900  100

```
Из всех сайтов в моей коллекции сайт беларуской мастерской самый легкий: он весит всего 13.9 мб, но при этом, на мой взгляд, он самый стильный. 90% этого объема занимают изображения, остальное приходится на текст.

2) `metawarc index gusli.by.warc.gz` -> создается БД (`gusli_meta.db`)

3) `metawarc stats -m mimes`

| mime                          | size     | count |
|-------------------------------|----------|-------|
| image/gif                     | 778,623  | 123   |
| image/jpeg                    | 11,277,981 | 179 |
| image/png                     | 1,725    | 1     |
| text/css                      | 3,541    | 1     |
| text/html                     | 1,201,640 | 79  |
| text/html; charset=iso-8859-1 | 3,390    | 7     |

3) `metawarc export -t headers -o gusli_headers.jsonl gusli.by.warc.gz`

Извлекаем заголовки http, чтобы проверить, действительно ли на сайте отсутствуют заголовки кэширования. Результат сохраняем в файле `gusli_headers.jsonl`

Под характерными заголовками `Cache-control` директивы ответа кэша выставлены на `max-age=8380800` (означает, что ресурс можно кэшировать в течение 8380800 секунд, т.е. 97 дней).Неясно, почему ArchiveReady не заметил наличие заголовков кэширования на сайте и занизил ему оценку по этому пункту.

4) `metawarc metadata --filetypes gif,jpeg,png --output gusli_meta.jsonl gusli.by.warc.gz`

Результаты: файл `gusli_meta.jsonl`. Метаданные сохранились для 125 изображений (примерно половины всех изображений на сайте).

## 3. Воспроизведение: ReplayWeb.page

<img src="https://github.com/sofiiafedotova/gusli-arch/blob/main/gusli.by/gusli_replay(1).png" width=80%>
Главная страница архивировалась полностью.

<img src="https://github.com/sofiiafedotova/gusli-arch/blob/main/gusli.by/gusli_replay(2).png" width=80%>
И сайт целиком тоже архивировался удачно.
